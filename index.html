<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SEGL Countdown</title>

  <style>
    :root{
      --bg:#f3f4f6;
      --text:#111111;
      --muted:#6b7280;

      --track:#cbd5e1;
      --trackOutline:#94a3b8;

      --accent:#2563eb;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0}

    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: var(--bg);
      color: var(--text);
      display:grid;
      place-items:center;
      padding:24px;
    }

    .wrap{
      width:min(760px, 95vw);
      text-align:center;
    }

    h1{
      margin:0 0 6px 0;
      font-size:clamp(22px, 3vw, 28px);
      letter-spacing:-0.02em;
      font-weight:700;
    }

    .dot{
      display:inline-block;
      width:8px;
      height:8px;
      background: var(--accent);
      border-radius:50%;
      margin-left:8px;
      transform: translateY(-2px);
    }

    h1::after{
      content:"";
      display:block;
      width:64px;
      height:2px;
      background: var(--accent);
      margin:12px auto 0;
      border-radius:2px;
      opacity:.9;
    }

    .countdown{
      margin:22px 0 14px 0;
      font-size:clamp(26px, 4.5vw, 46px);
      letter-spacing:-0.03em;
      font-weight:750;
      color:var(--accent);
    }

    .sub{
      margin:0 0 20px 0;
      color:var(--muted);
      font-size:clamp(13px, 1.8vw, 15px);
    }

    canvas{
      width:min(520px, 85vw);
      height:auto;
      display:block;
      margin: 8px auto 0;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <h1>SEGL Countdown ðŸ’” <span class="dot"></span></h1>
    <div class="countdown" id="timeleft">â€”</div>
    <div class="sub" id="daterange">â€”</div>
    <canvas id="ring" width="900" height="900"></canvas>
  </div>

<script>
  const START = new Date("2026-01-24T12:00:00-05:00");
  const END   = new Date("2026-05-23T12:00:00-04:00");

  const canvas = document.getElementById("ring");
  const ctx = canvas.getContext("2d");

  function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }
  function pad(n){ return String(n).padStart(2,"0"); }

  function fmtDate(d){
    return d.toLocaleString(undefined, { 
      month:"short", 
      day:"numeric", 
      year:"numeric", 
      hour:"numeric", 
      minute:"2-digit" 
    });
  }

  function fmtDHMS(ms){
    ms = Math.max(0, ms);
    const s = Math.floor(ms/1000);
    const days = Math.floor(s/86400);
    const hrs  = Math.floor((s%86400)/3600);
    const mins = Math.floor((s%3600)/60);
    const secs = s%60;
    return `${days}d ${pad(hrs)}h ${pad(mins)}m ${pad(secs)}s left`;
  }

  function drawRing(frac){
    frac = clamp(frac, 0, 1);

    const w = canvas.width, h = canvas.height;
    const cx = w/2, cy = h/2;

    const r = Math.min(w,h) * 0.36;
    const line = r * 0.22;
    const startAngle = -Math.PI/2;
    const endAngle = startAngle + frac * Math.PI * 2;

    const styles = getComputedStyle(document.documentElement);
    const track = styles.getPropertyValue("--track").trim();
    const trackOutline = styles.getPropertyValue("--trackOutline").trim();
    const accent = styles.getPropertyValue("--accent").trim();
    const muted = styles.getPropertyValue("--muted").trim();

    ctx.clearRect(0,0,w,h);

    // Outline ring
    ctx.beginPath();
    ctx.arc(cx, cy, r, 0, Math.PI*2);
    ctx.strokeStyle = trackOutline;
    ctx.lineWidth = line + 6;
    ctx.lineCap = "round";
    ctx.stroke();

    // Track
    ctx.beginPath();
    ctx.arc(cx, cy, r, 0, Math.PI*2);
    ctx.strokeStyle = track;
    ctx.lineWidth = line;
    ctx.lineCap = "round";
    ctx.stroke();

    // Progress
    ctx.shadowColor = accent;
    ctx.shadowBlur = 14;

    ctx.beginPath();
    ctx.arc(cx, cy, r, startAngle, endAngle);
    ctx.strokeStyle = accent;
    ctx.lineWidth = line;
    ctx.lineCap = "round";
    ctx.stroke();

    ctx.shadowBlur = 0;

    // Center percent (0.01% precision)
    const pct = (frac * 100).toFixed(2);

    ctx.fillStyle = accent;
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.font = "750 96px system-ui";
    ctx.fillText(`${pct}%`, cx, cy);

    ctx.font = "500 26px system-ui";
    ctx.fillStyle = muted;
    ctx.fillText("complete", cx, cy + 70);
  }

  function tick(){
    const now = new Date();
    const total = END - START;
    const passed = now - START;
    const frac = clamp(passed / total, 0, 1);

    document.getElementById("timeleft").textContent = fmtDHMS(END - now);
    document.getElementById("daterange").textContent =
      `${fmtDate(START)} â†’ ${fmtDate(END)}`;

    drawRing(frac);

    setTimeout(tick, 50); // smoother .01% updates
  }

  tick();
</script>

</body>
</html>
